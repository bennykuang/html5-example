<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
	</head>
	<body>
		<canvas style="width:300px;height:200px;border:1px solid #CCC;" id="myCanvas"></canvas>
		<img src="images/lamp.gif" width="32" height="32" style="display:none;" id="lamp">
	</body>
	<script>
		document.getElementById('lamp').onload = function(){
			var c = document.getElementById('myCanvas');
			var ctx = c.getContext('2d');
			
			var lamp = document.getElementById('lamp');
			var ptn = ctx.createPattern(lamp,'repeat');
			ctx.fillStyle = ptn;
			ctx.fillRect(0, 0, 290, 130);
		}
	</script>
</html>