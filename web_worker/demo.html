<!DOCTYPE>
<html>
	<head>
		<meta charset="utf-8" />
	</head>
	<body>
		<p>计数： <output id="result"></output></p>
		<button onclick="startWorker()">开始工作</button> 
		<button onclick="stopWorker()">停止工作</button>
		 
		<p><strong>注意：</strong> Internet Explorer 9 及更早 IE 版本浏览器不支持 Web Workers.</p>
	</body>
	<script>
		var w;
		function startWorker(){
			if(typeof(Worker) !== 'undefined'){
				if(typeof(w) == 'undefined')
					w = new Worker('demo_workers.js');
				w.onmessage = function(event){
					document.getElementById('result').innerHTML = event.data;
				}
			}
			else
				document.getElementById('result').innerHTML = '您的浏览器不支持 Worker';	
		};
		
		function stopWorker(){
			w.terminate();
			w = undefined;
		};
	</script>
</html>